# 项目理解与模块拆分

## 一、项目整体理解
本项目是一个多宠物体重管理App，支持多宠物切换、体重数据录入、体重趋势可视化、数据导出与分享，并注重动画与用户体验。核心目标是让用户方便地管理和查看宠物体重变化。

## 二、模块拆分（数据 → 界面 → UX）

### 1. 数据层（可单独验证）
- 账户信息：名称、头像（已实现UserDataHelper，后续可扩展）
- 宠物信息：宠物ID、类别（猫/狗）、名称、种类、头像
- 体重记录：宠物ID、体重、日期
- 数据持久化：使用sqflite本地数据库，所有表结构和CRUD操作均可单元测试验证

### 2. 界面层（可单独验证）
- 宠物选择器：顶部下拉或横向滑动选择宠物，切换后刷新下方数据
- 体重录入区：输入框+日期选择器，支持步进输入和单位切换
- 体重趋势图：fl_chart折线图，展示当前宠物的体重变化
- 导出/分享按钮：导出CSV/PDF，调用系统分享
- 每个界面组件可单独mock数据进行UI测试

### 3. 体验与动画层（可单独验证）
- 启动动画：猫狗从两侧跳入，动画可独立调试
- 宠物列表区分：猫狗有不同icon或背景
- 体重录入区：旋钮/滑动条输入，动画反馈
- 图表区：支持滑动缩放，超出十条仅显示最近十条
- 分享动画：导出/分享时有反馈动画
- 所有动画和交互均可用假数据单独调试

## 三、开发建议
- 每个数据表、每个UI组件、每个动画/交互都应有独立的单元/集成测试
- 先实现数据结构和持久化，再做界面，最后完善动画和交互
- 代码结构建议：lib/data、lib/pages、lib/widgets、lib/services、lib/animations

## 四、可验证性说明
- 数据层：可用测试用例插入/查询/更新/删除数据，验证数据库逻辑
- 界面层：可用mock数据渲染各组件，验证UI和交互
- 动画与UX层：可用假数据和定时器单独触发动画，验证流畅性和反馈
